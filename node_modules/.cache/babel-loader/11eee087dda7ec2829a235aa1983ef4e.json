{"remainingRequest":"C:\\Users\\User\\Music\\milagre\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Music\\milagre\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\User\\Music\\milagre\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\User\\Music\\milagre\\src\\pages\\UserList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\User\\Music\\milagre\\src\\pages\\UserList.vue","mtime":1753401390905},{"path":"C:\\Users\\User\\Music\\milagre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753222949551},{"path":"C:\\Users\\User\\Music\\milagre\\node_modules\\babel-loader\\lib\\index.js","mtime":1753222968939},{"path":"C:\\Users\\User\\Music\\milagre\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1753222949551},{"path":"C:\\Users\\User\\Music\\milagre\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1753222973447}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFwcExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0FwcExheW91dC52dWUnOwppbXBvcnQgTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9Nb2RhbC52dWUnOwppbXBvcnQgYXBpIGZyb20gJy4uL3NlcnZpY2VzL2FwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBcHBMYXlvdXQsCiAgICBNb2RhbAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBbXSwKICAgICAgc2hvd01vZGFsOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRVc2VyOiBudWxsLAogICAgICBzZWFyY2g6ICcnLAogICAgICByb2xlRmlsdGVyOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0FkbWluKCkgewogICAgICBjb25zdCB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTsKICAgICAgcmV0dXJuIHVzZXIgJiYgdXNlci5pc19hZG1pbjsKICAgIH0sCiAgICBmaWx0ZXJlZFVzZXJzKCkgewogICAgICBsZXQgdXNlcnMgPSB0aGlzLnVzZXJzOwogICAgICBpZiAodGhpcy5zZWFyY2gpIHsKICAgICAgICB1c2VycyA9IHVzZXJzLmZpbHRlcih1ID0+IHUubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoLnRvTG93ZXJDYXNlKCkpKTsKICAgICAgfQogICAgICBpZiAodGhpcy5yb2xlRmlsdGVyKSB7CiAgICAgICAgdXNlcnMgPSB1c2Vycy5maWx0ZXIodSA9PiB1LnJvbGUgPT09IHRoaXMucm9sZUZpbHRlcik7CiAgICAgIH0KICAgICAgcmV0dXJuIHVzZXJzOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZmV0Y2hVc2VycygpIHsKICAgICAgY29uc3QgewogICAgICAgIGRhdGEKICAgICAgfSA9IGF3YWl0IGFwaS5nZXQoJy91c2VycycpOwogICAgICB0aGlzLnVzZXJzID0gZGF0YTsKICAgIH0sCiAgICBvcGVuTW9kYWwodXNlcikgewogICAgICBpZiAodGhpcy5pc0FkbWluKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZFVzZXIgPSB1c2VyOwogICAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hVc2VycygpOwogIH0KfTs="},{"version":3,"names":["AppLayout","Modal","api","components","data","users","showModal","selectedUser","search","roleFilter","computed","isAdmin","user","JSON","parse","localStorage","getItem","is_admin","filteredUsers","filter","u","name","toLowerCase","includes","role","methods","fetchUsers","get","openModal","mounted"],"sources":["C:\\Users\\User\\Music\\milagre\\src\\pages\\UserList.vue"],"sourcesContent":["<template>\r\n  <AppLayout>\r\n    <div class=\"max-w-5xl mx-auto\">\r\n      <h2 class=\"text-2xl font-bold mb-4 text-blue-900\">Usuários</h2>\r\n      <div class=\"flex items-center space-x-2 mb-2\">\r\n        <input\r\n          v-model=\"search\"\r\n          @input=\"fetchUsers\"\r\n          placeholder=\"Buscar usuário...\"\r\n          class=\"border border-blue-700 bg-gray-100 text-gray-800 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n        />\r\n        <select\r\n          v-model=\"roleFilter\"\r\n          @change=\"fetchUsers\"\r\n          class=\"border border-blue-700 bg-gray-100 text-gray-800 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n        >\r\n          <option value=\"\">Todos</option>\r\n          <option value=\"admin\">Admin</option>\r\n          <option value=\"user\">Usuário</option>\r\n        </select>\r\n      </div>\r\n      <div v-if=\"!filteredUsers.length\" class=\"text-center text-blue-400 py-8\">\r\n        Nenhum usuário encontrado.\r\n      </div>\r\n      <table v-else class=\"w-full rounded-lg shadow text-gray-800 overflow-hidden\">\r\n        <thead>\r\n          <tr class=\"bg-blue-900 text-white\">\r\n            <th class=\"py-3 px-4 text-left font-semibold\">Nome</th>\r\n            <th class=\"py-3 px-4 text-left font-semibold\">Email</th>\r\n            <th class=\"py-3 px-4 text-left font-semibold\">Tipo</th>\r\n            <th class=\"py-3 px-4 text-left font-semibold\" v-if=\"isAdmin\">Ações</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr\r\n            v-for=\"user in filteredUsers\"\r\n            :key=\"user.id\"\r\n            class=\"bg-white hover:bg-blue-50 transition\"\r\n          >\r\n            <td class=\"py-2 px-4\">{{ user.name }}</td>\r\n            <td class=\"py-2 px-4\">{{ user.email }}</td>\r\n            <td class=\"py-2 px-4\">{{ user.is_admin ? 'Administrador' : 'Usuário' }}</td>\r\n            <td class=\"py-2 px-4\" v-if=\"isAdmin\">\r\n              <button @click=\"openModal(user)\" class=\"text-blue-600 hover:text-blue-800 mr-2\" title=\"Ver detalhes\">\r\n                <i class=\"fas fa-eye\"></i>\r\n              </button>\r\n              <router-link :to=\"`/users/${user.id}/edit`\" class=\"text-green-600 hover:text-green-800 mr-2\" title=\"Editar\">\r\n                <i class=\"fas fa-edit\"></i>\r\n              </router-link>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <Modal :show=\"showModal && isAdmin\" @close=\"showModal = false\">\r\n        <div v-if=\"selectedUser\">\r\n          <h3 class=\"text-xl font-bold text-blue-900 mb-2\">{{ selectedUser.name }}</h3>\r\n          <p class=\"text-blue-600 mb-1\">Email: <span class=\"text-blue-900\">{{ selectedUser.email }}</span></p>\r\n          <p class=\"text-blue-600 mb-1\">Tipo: <span class=\"text-blue-900\">{{ selectedUser.is_admin ? 'Administrador' : 'Usuário' }}</span></p>\r\n          <p class=\"text-blue-600 mb-1\">ID: <span class=\"text-blue-900\">{{ selectedUser.id }}</span></p>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  </AppLayout>\r\n</template>\r\n\r\n<script>\r\nimport AppLayout from '../components/AppLayout.vue'\r\nimport Modal from '../components/Modal.vue'\r\nimport api from '../services/api'\r\n\r\nexport default {\r\n  components: { AppLayout, Modal },\r\n  data() {\r\n    return {\r\n      users: [],\r\n      showModal: false,\r\n      selectedUser: null,\r\n      search: '',\r\n      roleFilter: ''\r\n    }\r\n  },\r\n  computed: {\r\n    isAdmin() {\r\n      const user = JSON.parse(localStorage.getItem('user'))\r\n      return user && user.is_admin\r\n    },\r\n    filteredUsers() {\r\n      let users = this.users\r\n      if (this.search) {\r\n        users = users.filter(u => u.name.toLowerCase().includes(this.search.toLowerCase()))\r\n      }\r\n      if (this.roleFilter) {\r\n        users = users.filter(u => u.role === this.roleFilter)\r\n      }\r\n      return users\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      const { data } = await api.get('/users')\r\n      this.users = data\r\n    },\r\n    openModal(user) {\r\n      if (this.isAdmin) {\r\n        this.selectedUser = user\r\n        this.showModal = true\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchUsers()\r\n  }\r\n}\r\n</script> "],"mappings":"AAkEA,OAAOA,SAAQ,MAAO,6BAA4B;AAClD,OAAOC,KAAI,MAAO,yBAAwB;AAC1C,OAAOC,GAAE,MAAO,iBAAgB;AAEhC,eAAe;EACbC,UAAU,EAAE;IAAEH,SAAS;IAAEC;EAAM,CAAC;EAChCG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE,IAAI;MAClBC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE;IACd;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,OAAOA,CAAA,EAAG;MACR,MAAMC,IAAG,GAAIC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MACpD,OAAOJ,IAAG,IAAKA,IAAI,CAACK,QAAO;IAC7B,CAAC;IACDC,aAAaA,CAAA,EAAG;MACd,IAAIb,KAAI,GAAI,IAAI,CAACA,KAAI;MACrB,IAAI,IAAI,CAACG,MAAM,EAAE;QACfH,KAAI,GAAIA,KAAK,CAACc,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACf,MAAM,CAACc,WAAW,CAAC,CAAC,CAAC;MACpF;MACA,IAAI,IAAI,CAACb,UAAU,EAAE;QACnBJ,KAAI,GAAIA,KAAK,CAACc,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACI,IAAG,KAAM,IAAI,CAACf,UAAU;MACtD;MACA,OAAOJ,KAAI;IACb;EACF,CAAC;EACDoB,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,MAAM;QAAEtB;MAAK,IAAI,MAAMF,GAAG,CAACyB,GAAG,CAAC,QAAQ;MACvC,IAAI,CAACtB,KAAI,GAAID,IAAG;IAClB,CAAC;IACDwB,SAASA,CAAChB,IAAI,EAAE;MACd,IAAI,IAAI,CAACD,OAAO,EAAE;QAChB,IAAI,CAACJ,YAAW,GAAIK,IAAG;QACvB,IAAI,CAACN,SAAQ,GAAI,IAAG;MACtB;IACF;EACF,CAAC;EACDuB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACH,UAAU,CAAC;EAClB;AACF","ignoreList":[]}]}